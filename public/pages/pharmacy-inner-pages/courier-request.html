
<section style="padding: 20px">
	<header style="position: relative;">
		<h3> <i class="fa fa-bicycle"></i> Courier services <span style="font-size: 16px">( {{courierRequests.length}} requests )</span></h3>
		<span style="position: absolute;top : 30px; right: 10px;font-size: 14px;">Field agent url: {{fieldagentUrl}}</span>
		<!--<input type="text" placeholder="Filter" class="form-control">-->

		<div class="shadow" style="padding:10px">
			<button class="btn-courier" ng-click="current()" style="margin-right:20px" ng-class="{'orange-bg': selected1 == true}"> Current requests</button>
			<button class="btn-courier" ng-click="attended()" ng-class="{'orange-bg': selected2 == true}"> Attended requests</button>
		</div>
		<!--<a href="/bicboy/judepharmacy6768/y2kisawesome">Field agent</a>-->
	</header>

	<div class="shadow row" ng-repeat="request in courierRequests" style="padding: 20px">
		<div class="col-sm-12 col-md-3 col-lg-3">
		<h6 style="text-decoration: underline;">Sender detail</h6>
			<div>
				<i class="fa fa-user"> {{request.title}} {{request.firstname}} {{request.lastname}} </i>
			</div>
			<div>
				<i class="fa fa-globe"> {{request.address}} ( {{request.city}} )</i>
			</div>
			<div>
				<i class="fa fa-clock-o"> {{request.date | date : "mediumDate"}} | {{request.date | date : "mediumTime"}}</i>
			</div>						
		</div>
		<div class="col-sm-12 col-md-6 col-lg-6">
		<h6 style="text-decoration: underline;">Prescription detail</h6>
			<table class="table table-striped table-responsive">
				<tr>
					<thead>
						<th>S/N</th>
						<th>Drug Name</th>
						<th>Dosage</th>
						<th>Frequency</th>
						<th>Duration</th>		    						
					</thead>        					
				</tr>
				<tr>
					<tbody ng-repeat="prescription in request.prescription_body">		    						
						<td>{{prescription.sn}}</td>
						<td>{{prescription.drug_name}}</td>
						<td>{{prescription.dosage}}</td>
						<td>{{prescription.frequency}}</td>
						<td>{{prescription.duration}}</td>		    							    						
					</tbody>
				</tr>
			</table>
		</div>
		<div class="col-sm-12 col-md-3 col-lg-3" style="line-height: 25px">
			<h6 style="text-decoration: underline;">Delivery report</h6>
			<div><strong>Status :</strong> <span ng-if="request.attended !== true">Not yet billed</span> <span style="color:red" ng-if="request.attended == true"> Billing sent! <small>( {{request.verification_date | date: 'mediumDate'}} | {{request.verification_date | date: 'mediumTime'}} ) </small></span></div>
			<div><strong>Delivery status :</strong> <span ng-if="!request.receipt_date">pending</span> <span ng-if="request.receipt_date">Delivered! Package in receipt @ {{request.address}}</span></div>
			<div><strong>Payment confirmation :</strong> <span ng-if="!request.receipt_date">No</span> <span ng-if="request.receipt_date">Yes! Paid <b>{{toNaira(request.total_cost)}}</b> on {{request.receipt_date | date : 'mediumDate'}} | {{request.receipt_date | date : 'mediumTime'}}</span></div>
			
		</div>
		<div class="clearfix"></div>
		<div style="text-align:right;margin-top:10px">
			<button ng-click="courierBilling(request)" ng-class="{'btn btn-success' : request.attended == true}" class="btn btn-simple">Bill patient</button>
		</div>
	</div>
	
</section>