<!doctype html>

<html class="no-js" lang="en" ng-app = "rtcVideo">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Applinic video</title>
    <meta name="description" content="">
    <base href="/" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="apple-touch-icon" href="apple-touch-icon.png">
    <!--<link rel="stylesheet" href="/assets/css/bootstrap.min.css">
    <link rel="stylesheet" href="/assets/css/normalize.css">
    <link rel="stylesheet" href="/assets/css/font-awesome.min.css">
    <link rel="stylesheet" href="/assets/css/icomoon.css">
    <link rel="stylesheet" href="/assets/css/owl.theme.css">
    <link rel="stylesheet" href="/assets/css/owl.carousel.css">
    <link rel="stylesheet" href="/assets/css/prettyPhoto.css">
    <link rel="stylesheet" href="/assets/css/main.css">
    <link rel="stylesheet" href="/assets/css/transitions.css">
    <link rel="stylesheet" href="/assets/css/color.css">
    <link rel="stylesheet" href="/assets/css/responsive.css">
    <script src="/assets/js/vendor/modernizr-2.8.3-respond-1.4.2.min.js"></script>
      <script src="/assets/js/vendor2.js"></script>-->

   
   
    <!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

<!-- Optional theme -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

 <link rel="stylesheet" href="/assets/css/font-awesome.min.css">
<link type="style/css" rel="stylesheet" href="/assets/css/video.css">
 <link rel="stylesheet" href="/assets/css/normalize.css">
 <link href="/assets/css/my-edit.css">

<script src="/assets/js/vendor/jquery-library.js"></script>
<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    <!--<script type="text/javascript" src="/assets/js/source.js"></script>-->
    <script type="text/javascript" src="/socket.io/socket.io.js"></script>
    <script type="text/javascript" src="/assets/js/adapter.js"></script>
    <script type="text/javascript" src="/assets/js/rtcClient.js"></script>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.min.js">
    </script>
    <!--<script type="text/javascript" src="/assets/js/angular-source.js"></script>-->
    <script src="/assets/js/ngresource.js"></script>
    <script src="/assets/js/modalService.js"></script>
     <script src="/assets/js/moment.min.js"></script>  
    <script src="/assets/js/angular-moment.min.js"></script>
    <script type="text/javascript" src="/assets/js/angularVideo.js"></script>
        
</head>
<body style="overflow-x: hidden;">
    <main class="container-fluid"  style="margin: 0;padding: 0">        
        <header style="margin-bottom: 3px;background-color: #d9edf7;padding: 10px 30px" ng-controller="LocalStreamController as localStream" class="row">
            <div class="col-sm-12 col-md-6 col-lg-6">
                 <a href="" ng-click="goToDashbaord()" class="btn text-danger"><i class="fa fa-arrow-left"></i> Back to dashboard</a>&nbsp;&nbsp;&nbsp;
                 <span ng-cloak style="font-size: 10px">{{localStream.getControlId('<%= person.controlId %>')}}</span>
                <!--Appear as: <input ng-model="localStream.name" class="form-control" style="width: 50%;display: inline-block;"/>-->
                <a href ng-click="localStream.toggleCam()" class="btn btn-danger" style="color:#fff;float: right;">{{ (localStream.cameraIsOn === true) ? 'Streaming... ( stop / disconnect )' : 'Connect' }}</a>                           
            </div>
            <div  class="col-sm-12 col-md-6 col-lg-6">
                <div style="">
                    <!--<a href=""><i class="fa fa-camera" ng-click="streamControl()"> videos</i></a>&nbsp;&nbsp;-->
                    <!--<a href="" class="btn" ng-click="invite()"><i class="fa fa-user"></i> invite</a>&nbsp;&nbsp; --> 
                    <p class="text-danger" style="display: inline-block;float: right;">{{(connectionStatus === true) ? message : "connecting..."}}</p>
                </div>                
            </div> 
        </header>        
        <section class="row" ng-controller='RemoteStreamsController as rtc'>
             <div class="col-sm-12 col-md-2 col-lg-2 pull-left" style="text-align: center;">
                    <h4 style="padding: 10px;text-align: center;background-color: #1d7e5f;color:#fff">Available streams</h4>
                <div ng-repeat="stream in rtc.remoteStreams" ng-class="{'selected' : stream.isPlaying}" >                    
                    <span>{{stream.name}}</span> &nbsp;&nbsp;
                    <button ng-click="rtc.view(stream)" class="btn btn-success" style="padding: 5px 10px;font-size: 12px">view</button>
                </div>
                <span style="visibility: hidden;">video connection channel : &nbsp;{{rtc.siteLink('<%= person.controlId %>')}}</span>
            </div> 


           <div class="col-sm-12 col-md-7 col-lg-7" style="margin-top:10px;padding-left: 30px">           
                <div>
                    <div style="display: inline-block;padding: 8px 8px 0 8px;border:2px solid #d9edf7">
                        <p style="text-align: center;padding: 4px;color: orange;background-color: #d9edf7">Your Cam</p>
                        <video id="localVideo" muted="muted" autoplay="true" style="width:auto;height:250px;margin-top: -4px"></video>
                    </div>                   
                    <div id="remoteVideosContainer" style="display: inline-block;padding: 8px 8px 0 8px;border:2px solid #d9edf7">
                        
                    </div>                    
                </div>              
            </div>

                     
             
            <!--<button ng-click="rtc.call(stream)"><a>Call</a></button>-->



            <!--<div ng-repeat="stream in rtc.remoteStreams" ng-class="{'selected' : stream.isPlaying}" >
                        <h5>{{stream.name}}</h5>
                        <button ng-click="rtc.view(stream)" class="btn btn-success">View</button>
                        <button ng-click="rtc.call(stream)"><a>Call</a></button>
                    </div>-->



            <div style="border-left:2px solid #d9edf7;padding-left: 10px;max-height: 800px;overflow-y: auto" class="col-sm-12 col-md-3 col-lg-3" ng-controller="VideoDiagnosisController">
                <!-- ng-controller="VideoDiagnosisController" -->

                <form style="background-color: #eee;padding:10px;box-shadow:3px 2px 3px rgba(0,0,0,0.5)"> 
                        <div id="accordion">
                            <h6 style="color: #fff; font-size: 14px;padding:5px">
                                <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseTen" aria-expanded="false" aria-controls="collapseTen" style="color:#e97147; font-size: 18px;text-decoration:underline">Presenting complain</a>
                            </h6>                 
                            <div style="list-style:none" id="collapseTen" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTen">
                                <textarea placeholder="write..." ng-model="treatment.complain" class="form-control" required></textarea>
                            </div>
                        </div>

                        <div id="accordion">
                            <h6 style="color: #fff; font-size: 14px;padding:5px">
                                <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseNine" aria-expanded="false" aria-controls="collapseNine" style="color:#e97147; font-size: 18px;text-decoration:underline">History of presenting complain</a>
                            </h6>                 
                            <div style="list-style:none" id="collapseNine" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingNine">
                                <textarea placeholder="write..." class="form-control" ng-model="treatment.historyOfComplain" required></textarea>
                            </div>
                        </div>

                        <div id="accordion">
                            <h6 style="color: #fff; font-size: 14px;padding:5px">
                                <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseEight" aria-expanded="false" aria-controls="collapseEight" style="color:#e97147; font-size: 18px;text-decoration:underline">Past medical history</a>
                            </h6>                 
                            <div style="list-style:none" id="collapseEight" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingEight">
                                 <textarea placeholder="write..." class="form-control" ng-model="treatment.pastMedicalHistory"></textarea>
                            </div>
                        </div>
                        
                        <div id="accordion">
                            <h6 style="color: #fff; font-size: 14px;padding:5px">
                                <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseSeven" aria-expanded="false" aria-controls="collapseSeven" style="color:#e97147; font-size: 18px;text-decoration:underline">Family history</a>
                            </h6>                 
                            <div style="list-style:none" id="collapseSeven" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingSeven">
                                 <textarea placeholder="write..." class="form-control" ng-model="treatment.familyHistory"></textarea>
                            </div>
                        </div>

                        <div id="accordion">
                            <h6 style="color: #fff; font-size: 14px;padding:5px">
                                <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseSix" aria-expanded="false" aria-controls="collapseSix" style="color:#e97147; font-size: 18px;text-decoration:underline">Social history</a>
                            </h6>                 
                            <div style="list-style:none" id="collapseSix" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingSix">
                                 <textarea placeholder="write..." class="form-control" ng-model="treatment.socialHistory"></textarea>
                            </div>
                        </div>

                        <div id="accordion">
                            <h6 style="color: #fff; font-size: 14px;padding:5px">
                                <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseFive" aria-expanded="false" aria-controls="collapseFive" style="color:#e97147; font-size: 18px;text-decoration:underline">Drug history</a>
                            </h6>                 
                            <div style="list-style:none" id="collapseFive" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingFive">
                                  <textarea placeholder="write..." class="form-control" ng-model="treatment.drugHistory"></textarea>
                            </div>
                        </div>
                        
                        <div id="accordion">
                            <h6 style="color: #fff; font-size: 14px;padding:5px">
                                <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseFour" aria-expanded="false" aria-controls="collapseFour" style="color:#e97147; font-size: 18px;text-decoration:underline">Summary</a>
                            </h6>                 
                            <div style="list-style:none" id="collapseFour" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingFour">
                                  <textarea placeholder="write..." class="form-control" ng-model="treatment.summary" required></textarea>
                            </div>
                        </div>
                       
                        <div id="accordion" style="border-bottom: 1px solid grey">
                            <h6 style="color: #fff; font-size: 14px;padding:5px">
                                <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseThree" aria-expanded="false" aria-controls="collapseThree" style="color:#e97147; font-size: 18px;text-decoration:underline">Provisional diagnosis</a>
                            </h6>                 
                            <div style="list-style:none" id="collapseThree" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingThree">
                                  <textarea placeholder="write..." class="form-control" ng-model="treatment.provisionalDiagnosis" required></textarea>
                            </div>
                        </div>                                          
                                                                          
                       
                        <div style="margin-top: 10px;">                         

                           
                            
                            <div id="accordion">
                            <h6 style="color: #fff; font-size: 14px;padding:5px">
                                <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo" style="color:#306756; font-size: 18px;text-decoration:underline"><i class="icon-Pills"></i> Pharmaceutical</a>
                            </h6>                 
                            <div style="list-style:none" id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
                                   <table>
                                    <tr>
                                        <thead>
                                            <th>S/N</th>
                                            <th>Drug name</th>
                                            <th>Dosage</th>
                                            <th>Frequency</th>
                                            <th>Duration</th>
                                        </thead>
                                    </tr>
                                    <tr>
                                        <tbody ng-repeat="prescription in drugList">                                                                           
                                            <td>{{prescription.sn}}</td>
                                            <td><input name="states" id="states" type="text" placeholder="Enter drug name" class="form-control" ng-model="drug.name" uib-typeahead="drug.name for drug in drugs | filter:$viewValue | limitTo:15" class="form-control" style="width: 95%">
                                                {{getDrug(drug.name)}} </td>
                                            <td><input type="text" ng-model="prescription.dosage" class="form-control" style="padding: 18px 2px"></td>
                                            <td><input type="text" ng-model="prescription.frequency" class="form-control" style="padding: 18px 2px"></td>
                                            <td><input type="text" ng-model="prescription.duration" class="form-control" style="padding: 18px 2px"></td>
                                        </tbody>
                                    </tr>                       
                                </table>
                                <div style="text-align: right">
                                    <i class="fa fa-plus" style="font-size:16px;color:green;padding: 10px; cursor:pointer; margin-right: 5px" title="Add field" ng-click="addDrug()"></i>
                                        <i class="fa fa-minus" style="font-size:16px;color:green;padding: 10px; cursor:pointer; margin-right: 5px" title="Remove last field" ng-click="removeDrug()"></i>
                                </div>
                                <div> 
                                    <button ng-click="toPatient()" class="btn btn-primary">Send to patient</button>
                                    <button ng-click="toPharmacy()" class="btn btn-primary">Send to a Phamarcy</button>
                                </div>
                                <div class="view-animate-container" style="height:auto">
                                    <div class="view-animate" ng-view >
                                    </div>
                                </div>
                            </div>
                            
                        </div>                         

                        <div style="margin-top: 10px;">
                            <h6 style="color: #fff; font-size: 14px;padding:5px">
                                <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="false" aria-controls="collapseOne" style="color:#306756; font-size: 18px;text-decoration:underline"><i class="fa fa-calendar"></i> Physical Examination</a>
                            </h6>                 
                            <div style="list-style:none" id="collapseOne" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
                                <p>Enter date and time of the appointment below</p>
                                <input type="date" ng-model="treatment.appointment.date" class="form-control" style="margin-bottom: 10px">
                                <input type="time" ng-model="treatment.appointment.time" class="form-control" style="margin-bottom: 10px">                              
                                <input type="text" placeholder="Enter address" class="form-control" ng-model="treatment.appointment.address"/>
                                <p>Tips: Enter address of the place of appointment, if none is specified, the place of appointment defaults to the address in your profile.</p>
                                <input type="button" value="Send" ng-click="bookAppointment()" class="btn btn-primary"/>
                            </div>
                        </div>                         
                        
                    </div>

                </form>
                
                 <hr>
                <div style="word-spacing: 20px">
                    <button class="btn btn-primary" style="margin-top: 10px"  ng-click="investigation()">Investigation</button>
                    <button class="btn btn-success" style="margin-top: 10px" ng-click="treamentPlan()">Treatment Plan</button>
                    <button class="btn btn-danger" style="margin-top: 10px" ng-click="appointment()">Appointment</button>
                </div>
                                             
                        
            </div>
        </section>        
    </main>

    <script type="text/ng-template" id="calender-template.html">
        <div class="modal fade">
          <div class="modal-dialog">
            <div class="modal-content">
            <div class="modal-header" style="border-bottom:1px solid #eee;">
              <div class="row">
                <div class="col-sm-12 col-md-12 col-lg-12">
                <div>
                <b>Book an Appointment</b>
                <button type="button"  ng-click="close('Cancel')" data-dismiss="modal" aria-hidden="true" style="color:red;font-size: 32px; margin-top:-9px;float:right; top:5px;border:none">&times;</button>
                </div>  
                    
                </div> </div>                                    
              </div>
            
                    <div class="modal-body">
                    <div class="row">
                <div class="col-sm-12 col-md-12 col-lg-12">
                                              
                        <div class="calender-header bg-primary">
                            <i class="fa fa-angle-left" ng-click="previous()"></i>
                            <span>{{month.format("MMMM, YYYY")}}</span>
                            <i class="fa fa-angle-right" ng-click="next()"></i>
                        </div>
                        <div class="week">
                            <span class="day">Sun</span>
                            <span class="day">Mon</span>
                            <span class="day">Tue</span>
                            <span class="day">Wed</span>
                            <span class="day">Thu</span>
                            <span class="day">Fri</span>
                            <span class="day">Sat</span>
                        </div>
                        
                        <div ng-repeat="week in weeks" class="indays">
                            <span class="dates" ng-class="{ today: day.isToday, 'different-month': !day.isCurrentMonth, selected: day.date.isSame(selected) }" ng-click="select(day)" style="cursor:pointer" ng-repeat="day in week.days">{{day.number}}</span>
                        </div>                        
                        <p class="bg-default" style="font-size:1em; padding:15px;">Picked Date: <em>{{dd.format('dddd, MMMM Do YYYY')}}</em><span style="display:block">Picked time: <em>{{treatment.appointment.time | date: "mediumTime"}} </em></span>
                            <span>Picked Venue: <em>{{treatment.appointment.address}} </em></span>
                        </p>

                        <div>
                        <b style="font-size:1.4em; font-weight:bold;">Time of appointment: <br><input type="time" class="form-control" placeholder="Enter time" ng-model="treatment.appointment.time" style="font-size:.5em;"/></b>
                        <div style="font-size:1.3em;"><b>Venue</b> <sub>(If none,defaults to the address in your profile)</sub>: <br><input class="form-control" type="address" placeholder="Enter address" ng-model="treatment.appointment.address"></div>
                     </div>  </div> 
                        <div class="clearfix"></div>
                       
                </div>

                <div class="modal-footer ok">
                            <button class="btn bg-primary" style="font-size:1.4em; font-weight:300; width:50%;" ng-click="book()" class="btn btn-success">Book</button>
                        </div>
              </div>          
            </div>
          </div>
        </div>
     </script>  

    
</body>
</html>

