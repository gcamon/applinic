<!doctype html>
<html class="no-js" lang="en">

    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title> Applinic</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="apple-touch-icon" href="apple-touch-icon.png">
        <!-- Place favicon.ico in the root directory -->
       
        <!--<link rel="stylesheet" href="/assets/css/bootstrap.css">-->
        <link rel="stylesheet" href="/assets/css/vendor.css">
        <link rel="stylesheet" href="/assets/css/app.css">
        <link rel="stylesheet" href="/assets/css/now-ui-kit2.css">
        <link rel="stylesheet" href="/assets/css/font-awesome.min.css">
        <link rel="icon" type="image/png" href="/assets/images/icons/favicon.png">
          
        <link rel="stylesheet" href="/assets/css/my-edit.css">
          <style>
              .title{
                  font-weight: 300;
              }

              body {
                background-color: #f0f3f6;
              }
          </style>
          <script src="/assets/js/vendor2.js"></script>
          <script type="text/javascript" src="/assets/js/source.js"></script>
    </head>

    <body ng-app="myApp">
        <header id="header" class="container-fluid card">
            <div class="container" style="position: relative;">               
                <div class="p-2">
                    <a class="brand" href="/" style="text-decoration: none;color: red">
                        <div class=""> <span class="l l1"></span> <span class="l l2"></span> <span class="l l3"></span> <span class="l l4"></span> <span class="l l5"></span> </div> <b>Applinic</b> 
                    </a>                
                </div>                          
                <!--<a class="btn btn-simple text-danger btn-sm"  href="" ng-click="logout()" style="position: absolute;top: 15px;right: 0">
                    <span><i class="fa fa-power-off icon"></i>
                        Logout
                    </span> 
                </a>-->
            </div>
        </header>
                    
        <div class="container" ng-controller="filedAgentController" ng-cloak>
            <h4>
                Applinic Field Agent
                
            </h4>
            <div class="pb-1" style="width: 70%">
                 <input type="text" name="" class="form-control" placeholder="Filter by name, phone number, drug, address etc." ng-model="filterValue" style="font-size: 14px!important">                 
            </div>
            <div class="row pt-1 pr-2">
                 <div class="col-sm-12 col-md-6 col-lg-6">
                     <a href="" ng-click="viewVerified()" style="text-transform: uppercase;" class="btn btn-simple" ng-if="!params.isCompleted">view verified requests</a>
                     <a href="" ng-click="pendingRequest()" style="text-transform: uppercase;" class="btn btn-warning" ng-if="params.isCompleted">view current requests</a>
                 </div>

                <div class="col-sm-12 col-md-6 col-lg-6 pt-1">
                 <strong style="float: right;"><span style="text-transform: uppercase;" class="text-danger">{{(params.isCompleted) ? "Verified Requests" : "Current Requests"}}</span> &nbsp;( {{courierList.length}}  patients )</strong>
                </div>
               
            </div>

        <div class="card row p-2" style="padding: 20px 0;position: relative;margin-top: 10px" ng-repeat="patient in courierList | filter: filterValue | orderBy : '-verification_date'" >
                    <strong style="float: right;color: grey;position: absolute;right: 15px;top:15px" am-time-ago="patient.verification_date"></strong>
                    <div class="col-sm-12 col-md-3 col-lg-3">
                        <h6 style="text-decoration: underline;padding: 10px 0">Patient details</h6>
                        <img src='{{patient.profile_pic_url}}' style="max-width:200px;max-height:200px">
                        <div><strong><i class="fa fa-user"></i> </strong> {{patient.title}} {{patient.firstname}} {{patient.lastname}}</div>
                        <div><strong><i class="fa fa-globe"></i>  </strong> {{patient.address}} ( {{patient.city}} )</div>
                        <div><strong><i class="fa fa-clock-o"></i> </strong> {{patient.date | date: 'fullDate'}}</div> 
                        <div><strong><i class="fa fa-phone"></i> </strong> {{patient.phone1}}, {{patient.phone2}}</div>                  
                    </div>
                    
                    <div class="col-sm-12 col-md-5 col-lg-5" >
                        <h6 style="text-decoration: underline;padding: 10px 0">Prescription details</h6>                       
                         
                            <table class="table table-striped table-responsive">
                                <tr>
                                    <thead>
                                        <th>S/N</th>
                                        <th>drug</th>
                                        <th>cost</th>
                                        <th>dosage</th>
                                        <th>frequency</th>
                                        <th>duration</th>                                   
                                    </thead>                            
                                </tr>
                                <tr>
                               
                                    <tbody ng-repeat="pres in patient.prescription_body">                                   
                                        <td>{{pres.sn }}</td>
                                        <td>{{pres.drug_name}}</td>
                                        <td>{{(pres.cost) ? toCurrency(pres.cost,patient):""}}</td>
                                        <td>{{pres.dosage}}</td>
                                        <td>{{pres.frequency}}</td>
                                        <td>{{pres.duration }}</td>                                              
                                    </tbody>
                            
                                </tr>
                            </table>
                        
                            <div><strong>Total cost : </strong> {{toCurrency(patient.total_cost,patient)}}</div>
                    </div>
                    <div class="col-sm-12 col-md-4 col-lg-4" style="line-height: 30px">
                        <h6 style="text-decoration: underline;padding: 10px 0">Payment</h6>
                        <div ng-cloak ng-if="patient.receipt_date"><strong>Date received : </strong> {{patient.receipt_date | date: "fullDate"}} | {{patient.receipt_date | date: "mediumTime"}}</div>
                        <div style="text-align: center;">
                            <input type="text" ng-model="patient.otp" class="form-control" style="font-size: 14px!important" placeholder=" Enter OTP" ng-if="!patient.receipt_date">
                         <i class="fa fa-check" aria-hidden="true" style="font-size: 25px;padding: 0 10px;color:green" ng-if="patient.receipt_date"></i> <span style="" class="text-danger" ng-if="!patient.receipt_date">{{patient.message}}</span> <span style="color:green" ng-if="patient.receipt_date">{{patient.message}}</span></div> 
                        <div style="margin-top: 10px;text-align: center;">
                                <button class="btn btn-success btn-lg" ng-click="confirmPay(patient)" ng-hide="patient.receipt_date"><i class="fa fa-spinner fa-pulse fa-1x fa-fw" style="color:#fff" ng-if="patient.isLoading"></i> {{(patient.isLoading) ? "" : "Verify"}}</button>
                        </div>
                    </div>
                   </div>
                                                              
        </div>
        <div style="height: 200px">
            
        </div>
    










     <script src="/assets/js/app.js"></script>
    <script src="/assets/js/now-ui-kit.js"></script>


   
    
    <script type="text/javascript" src="/assets/js/angularclient.js"></script>
    <script type="text/javascript" src="/assets/js/ngroute.js"></script>
    <script src="/socket.io/socket.io.js"></script>   
    <script src="/assets/js/socket.min.js"></script>
    <script src="/assets/js/jquery-ui.js"></script>

   
   
  
  
    
    
    <!--<script src="/assets/js/main.js"></script>-->
    <script src="/assets/js/angular-touch.min.js"></script>
    <script src="/assets/js/angularAnimate.js"></script>

    <script src="/assets/js/modalService.js"></script>
    <script src="/assets/js/moment.min.js"></script>     
    <script src="/assets/js/angular-moment.min.js"></script>
    <script src="/assets/js/angucomplete-alt.min.js"></script> 

    <script src="/assets/js/ui-bootstrap-tpls.js"></script>
    <script src="/assets/js/angular-clipboard.js"></script>
    <script src="/assets/js/ngresource.js"></script>
     <script src="/assets/js/ngPrint.js"></script>
     <script type="text/javascript" src="/assets/js/angular-paystack/dist/angular-paystack.min.js"></script>
      <script type="text/javascript" src="/assets/js/angular-sanitize.min.js"></script>
    </body>

</html>